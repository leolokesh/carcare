version: 1
frontend:
  phases:
    preBuild:
      commands:
        # Install Python, pip, and necessary dependencies
        - yum install -y python3
        - python3 --version
        - pip3 --version
        - pip3 install --upgrade pip
        # Install dependencies from requirements.txt
        - pip3 install -r requirements.txt
    build:
      commands:
        # Run the Streamlit app
        - 'streamlit run streamlit_app.py --server.enableCORS false --server.port 8080'
  artifacts:
    baseDirectory: /
    files:
      - '**/*'
  cache:
    paths:
      - ~/.cache/pip/**/*

backend:
  phases:
    preBuild:
      commands:
        - echo "No backend pre-build needed for Streamlit"
    build:
      commands:
        - echo "No backend build step needed for Streamlit"

test:
  phases:
    preTest:
      commands:
        - echo "No pre-tests required for Streamlit"
    test:
      commands:
        - echo "No tests configured for Streamlit"

customHeaders:
  - pattern: '**/*'
    headers:
      - key: "Content-Type"
        value: "text/html; charset=UTF-8"

